import{c as t,r as d,m as b,e as g,u as $}from"./index-BNNiCVH0.js";import{t as v,r as h}from"./index-Dx4dTy8V.js";import{d as y,_ as c,q as P,v as i,x as a,y as r,z as n,J as l,W as u,M as f,D as m,C as p,f as M,B as k,G as q}from"./_plugin-vue_export-helper-b3T1jOJ5.js";const C=y({name:"Register",mixins:[v],setup(){return{v$:$()}},data(){return{form:{email:"",password:"",confirmPassword:""},submitting:!1}},validations(){return{form:{email:{required:t.withMessage("Email is required",d),email:t.withMessage("Enter a valid email",g)},password:{required:t.withMessage("Password is required",d),minLength:t.withMessage("Minimum 6 characters",b(6))},confirmPassword:{required:t.withMessage("Confirm your password",d),matchesPassword:t.withMessage("Passwords must match",s=>s===this.form.password)}}}},methods:{async onSubmit(){if(this.v$.$touch(),!this.v$.$invalid)try{this.submitting=!0,await h({email:this.form.email,password:this.form.password}),this.toastSuccess("Registered successfully! Please login."),this.$router.push("/login")}catch(s){const e=s?.message||"Registration failed. Please try again.";this.toastError(e)}finally{this.submitting=!1}}}}),x={class:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow"},R={class:"mb-4"},V={key:0,class:"mt-1 text-sm text-red-600"},B={class:"mb-4"},S={key:0,class:"mt-1 text-sm text-red-600"},E={class:"mb-6"},N={key:0,class:"mt-1 text-sm text-red-600"},U={class:"mb-4 flex items-center justify-end"},D=["disabled"];function L(s,e,z,T,j,A){const w=P("router-link");return a(),i("div",x,[e[12]||(e[12]=r("h1",{class:"text-3xl font-bold mb-6"},"Register",-1)),r("form",{onSubmit:e[6]||(e[6]=q((...o)=>s.onSubmit&&s.onSubmit(...o),["prevent"])),novalidate:""},[r("div",R,[e[7]||(e[7]=r("label",{class:"block text-sm font-medium mb-1 required",for:"email"},"Email",-1)),n(r("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>s.form.email=o),type:"email",class:f(["w-full rounded border px-3 py-2 focus:outline-none focus:ring",{"border-red-500":s.v$.form.email.$error}]),onBlur:e[1]||(e[1]=o=>s.v$.form.email.$touch()),autocomplete:"email",placeholder:"you@example.com"},null,34),[[u,s.form.email,void 0,{trim:!0}]]),s.v$.form.email.$error?(a(),i("p",V,m(s.v$.form.email.$errors[0]?.$message),1)):l("",!0)]),r("div",B,[e[8]||(e[8]=r("label",{class:"block text-sm font-medium mb-1 required",for:"password"},"Password",-1)),n(r("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.password=o),type:"password",class:f(["w-full rounded border px-3 py-2 focus:outline-none focus:ring",{"border-red-500":s.v$.form.password.$error}]),onBlur:e[3]||(e[3]=o=>s.v$.form.password.$touch()),autocomplete:"new-password",placeholder:"Create a password (min 6 chars)"},null,34),[[u,s.form.password,void 0,{trim:!0}]]),s.v$.form.password.$error?(a(),i("p",S,m(s.v$.form.password.$errors[0]?.$message),1)):l("",!0)]),r("div",E,[e[9]||(e[9]=r("label",{class:"block text-sm font-medium mb-1 required",for:"confirm"},"Confirm Password",-1)),n(r("input",{id:"confirm","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.confirmPassword=o),type:"password",class:f(["w-full rounded border px-3 py-2 focus:outline-none focus:ring",{"border-red-500":s.v$.form.confirmPassword.$error}]),onBlur:e[5]||(e[5]=o=>s.v$.form.confirmPassword.$touch()),autocomplete:"new-password",placeholder:"Re-enter your password"},null,34),[[u,s.form.confirmPassword,void 0,{trim:!0}]]),s.v$.form.confirmPassword.$error?(a(),i("p",N,m(s.v$.form.confirmPassword.$errors[0]?.$message),1)):l("",!0)]),r("div",U,[e[11]||(e[11]=p(" Already have an account? ",-1)),M(w,{to:"/login",class:"text-blue-500 hover:underline ml-2"},{default:k(()=>[...e[10]||(e[10]=[p("Login",-1)])]),_:1})]),r("button",{type:"submit",class:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-60",disabled:s.submitting},m(s.submitting?"Registering...":"Register"),9,D)],32)])}const F=c(C,[["render",L]]);export{F as default};

import{c as i,m as h,r as d,e as y,u as $}from"./index-BNNiCVH0.js";import{E as c,a as k,t as E,l as x}from"./index-CohZ9pLC.js";import{d as M,_ as C,q as a,v as n,x as r,y as o,z as m,J as u,W as q,M as p,D as l,X as L,A as f,C as w,f as P,B as S,G as B}from"./_plugin-vue_export-helper-b3T1jOJ5.js";const V=M({name:"Login",mixins:[E],components:{EyeIcon:k,EyeOffIcon:c},setup(){return{v$:$()}},data(){return{form:{email:"",password:""},submitting:!1,showPassword:!1}},validations(){return{form:{email:{required:i.withMessage("Email is required",d),email:i.withMessage("Enter a valid email",y)},password:{required:i.withMessage("Password is required",d),minLength:i.withMessage("Minimum 6 characters",h(6))}}}},methods:{async onSubmit(){if(this.v$.$touch(),!this.v$.$invalid)try{this.submitting=!0,await x({email:this.form.email,password:this.form.password}),this.toastSuccess("Logged in successfully!"),this.$router.push("/")}catch(s){const e=s?.message||"Login failed. Check your credentials.";this.toastError(e)}finally{this.submitting=!1}}}}),I={class:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow"},D={class:"mb-4"},N={key:0,class:"mt-1 text-sm text-red-600"},O={class:"mb-6"},U={class:"relative"},z=["type"],T=["aria-label"],j={key:0,class:"mt-1 text-sm text-red-600"},A={class:"mb-4 flex items-center justify-end"},G=["disabled"];function H(s,e,J,R,W,X){const b=a("EyeIcon"),g=a("EyeOffIcon"),v=a("router-link");return r(),n("div",I,[e[10]||(e[10]=o("h1",{class:"text-3xl font-bold mb-6"},"Login",-1)),o("form",{onSubmit:e[5]||(e[5]=B((...t)=>s.onSubmit&&s.onSubmit(...t),["prevent"])),novalidate:""},[o("div",D,[e[6]||(e[6]=o("label",{class:"block text-sm font-medium mb-1 required",for:"email"},"Email",-1)),m(o("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>s.form.email=t),type:"email",class:p(["w-full rounded border px-3 py-2 focus:outline-none focus:ring",{"border-red-500":s.v$.form.email.$error}]),onBlur:e[1]||(e[1]=t=>s.v$.form.email.$touch()),autocomplete:"email",placeholder:"you@example.com"},null,34),[[q,s.form.email,void 0,{trim:!0}]]),s.v$.form.email.$error?(r(),n("p",N,l(s.v$.form.email.$errors[0]?.$message),1)):u("",!0)]),o("div",O,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium mb-1 required",for:"password"},"Password",-1)),o("div",U,[m(o("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>s.form.password=t),type:s.showPassword?"text":"password",class:p(["w-full rounded border px-3 py-2 pr-10 focus:outline-none focus:ring",{"border-red-500":s.v$.form.password.$error}]),onBlur:e[3]||(e[3]=t=>s.v$.form.password.$touch()),autocomplete:"current-password",placeholder:"Enter your password"},null,42,z),[[L,s.form.password,void 0,{trim:!0}]]),o("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700",onClick:e[4]||(e[4]=t=>s.showPassword=!s.showPassword),"aria-label":s.showPassword?"Hide password":"Show password"},[s.showPassword?(r(),f(g,{key:1,class:"h-5 w-5"})):(r(),f(b,{key:0,class:"h-5 w-5"}))],8,T)]),s.v$.form.password.$error?(r(),n("p",j,l(s.v$.form.password.$errors[0]?.$message),1)):u("",!0)]),o("div",A,[e[9]||(e[9]=w(" Create an account? ",-1)),P(v,{to:"/register",class:"text-blue-500 hover:underline ml-2"},{default:S(()=>[...e[8]||(e[8]=[w("Register",-1)])]),_:1})]),o("button",{type:"submit",class:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-60",disabled:s.submitting},l(s.submitting?"Signing in...":"Login"),9,G)],32)])}const Y=C(V,[["render",H]]);export{Y as default};

import{N as y}from"./NoData-DAlzeFmV.js";import{g as h}from"./appointmentServices-svrE-4Fv.js";import{g as w}from"./patientServices-Du_bSQK4.js";import{g as N}from"./doctorServices-Douj6Em-.js";import{U as v}from"./index-CohZ9pLC.js";import{_ as k,q as m,v as a,x as n,y as e,A as C,J as f,B as u,C as g,F as D,L as B,f as p,D as r,M as I}from"./_plugin-vue_export-helper-b3T1jOJ5.js";const j={name:"Home",components:{NoData:y,UserIcon:v},data(){return{rows:[]}},mounted(){this.refresh()},methods:{refresh(){const i=h(),s=new Map(w().map(t=>[t.id,t])),d=new Map(N().map(t=>[t.id,t])),x=[...i].sort((t,l)=>(t.appointmentDate+" "+t.appointmentTime).localeCompare(l.appointmentDate+" "+l.appointmentTime));this.rows=x.map(t=>({...t,patientName:s.get(t.patientId)?.patientName||"—",doctorName:d.get(t.doctorId)?.doctorName||"—",doctorSpecialist:d.get(t.doctorId)?.doctorSpecialist||"—"}))},statusClass(i){switch(i){case"Completed":return"bg-green-100 text-green-800 border border-green-200";case"Cancelled":return"bg-red-100 text-red-800 border border-red-200";default:return"bg-blue-100 text-blue-800 border border-blue-200"}}}},T={class:"mx-auto max-w-7xl p-4"},U={class:"flex items-center justify-between mb-4"},M={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},S={class:"flex items-center justify-between"},V={class:"flex items-center gap-3"},A={class:"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center border border-blue-200"},F={class:"font-medium"},H={class:"text-xs text-gray-500"},L={class:"text-sm grid grid-cols-2 gap-y-1"},P={class:"text-gray-800 text-right"},q={class:"text-gray-800 text-right"},z={class:"text-gray-800 text-right"},E={key:0,class:"text-sm text-gray-700 border-t pt-2"},J={class:"mt-auto pt-2 flex items-center justify-end gap-2"},G={key:1,class:"flex flex-col items-center justify-center py-16"};function K(i,s,d,x,t,l){const c=m("router-link"),_=m("UserIcon"),b=m("NoData");return n(),a("section",T,[e("div",U,[s[1]||(s[1]=e("h1",{class:"text-2xl font-semibold"},"Upcoming Appointments",-1)),t.rows&&t.rows.length?(n(),C(c,{key:0,to:"/appointment",class:"inline-flex items-center rounded bg-blue-600 px-4 py-2 text-white text-sm hover:bg-blue-700 focus:outline-none focus:ring"},{default:u(()=>[...s[0]||(s[0]=[g("Book appointment",-1)])]),_:1})):f("",!0)]),t.rows.length?(n(),a("div",M,[(n(!0),a(D,null,B(t.rows,o=>(n(),a("article",{key:o.id,class:"rounded-lg border bg-white shadow-sm p-4 flex flex-col gap-3"},[e("div",S,[e("div",V,[e("div",A,[p(_,{class:"h-5 w-5 text-blue-700"})]),e("div",null,[e("p",F,r(o.doctorName),1),e("p",H,r(o.doctorSpecialist),1)])]),e("span",{class:I(["px-2 py-1 rounded text-xs font-medium",l.statusClass(o.status)])},r(o.status),3)]),e("div",L,[s[2]||(s[2]=e("p",{class:"text-gray-500"},"Patient",-1)),e("p",P,r(o.patientName),1),s[3]||(s[3]=e("p",{class:"text-gray-500"},"Date",-1)),e("p",q,r(o.appointmentDate),1),s[4]||(s[4]=e("p",{class:"text-gray-500"},"Time",-1)),e("p",z,r(o.appointmentTime),1)]),o.notes?(n(),a("p",E,r(o.notes),1)):f("",!0),e("div",J,[p(c,{to:"/appointment",class:"text-xs text-blue-700 hover:underline"},{default:u(()=>[...s[5]||(s[5]=[g("Manage",-1)])]),_:1})])]))),128))])):(n(),a("div",G,[p(b,{message:"No appointments yet",description:"Book your first appointment."}),p(c,{to:"/appointment",class:"mt-4 inline-flex items-center rounded bg-blue-600 px-4 py-2 text-white text-sm hover:bg-blue-700 focus:outline-none focus:ring"},{default:u(()=>[...s[6]||(s[6]=[g("Book appointment",-1)])]),_:1})]))])}const Z=k(j,[["render",K]]);export{Z as default};
